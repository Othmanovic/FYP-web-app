<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Customer Home</title>
    <link href="/main.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,
    700,700i,900,900i&amp;subset=cyrillic,cyrillic-ext" rel="stylesheet">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.css" rel="stylesheet" />

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

</head>


<body onload="myFunction();">

    <div class="restaurant-choose__wrapper">
        <div class="restaurant-choose">
            <label class="search__label">
                <input type="text" id="myInput" class="search" placeholder="Search for a shop or service">
            </label>
            <span class="restaurant-choose__city">Available Printing Shops {{user.displayName}}</span>
            {{!-- <ul class="restaurant-choose__first">
                {{#each products}}
                <li>
                    <a href="/checkout/{{_id}}" class=" card ">
                        <img src="/components/card/images/pexels_3.jpg" alt="food_picture" class="card__photo">
                        <span class="card__name ">{{productName}}</span>
                        <span class="card__cuisines">{{shopOwner.shopName}} </span>
                        <span class="card__time"> {{productPrice}} MYR</span>
                    </a>
                </li>
                {{/each}}

            </ul> --}}
            <div class="container">
                <div class="row">
                        

                     {{#each shops}}
                        <div class="col-sm-4" style="margin-bottom: 30px;">
                                <li style="list-style:none" class="prodCard">
                                 <a href="/customer/shopForCust/{{_id}}" class="card" style="margin-bottom: 10px;">
                                 <img src="/images/{{shopImage}}" alt="{{shopImage}}">
                                        <div class="row"><span class="card__name">Shop: {{shopName}}</span></div>
                                        <div class="row"><span class="card__cuisines">Queue: {{shopQueue}} People</span></div>
                                        <span class="card__cuisines">Status: {{status}}</span>

                                   </a> 
                                </li>
                        </div>
                    
                        {{!-- </ul> --}}
              
                    {{/each}}
                </div>
            </div>

          
        </div>
    </div>
    <!-- <footer class="footer">
    <div class="footer__wrapper"> UTM-OPS
        <img src="/components/footer/images/white-logo.svg" alt="footer">
    </div>
</footer> -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////// -->



</body>
<script>
    function myFunction() {
        console.log("here")
        const searchBar = document.getElementById("myInput")
        searchBar.addEventListener('keyup', function (e) {
            const term = e.target.value.toLowerCase()
            const avlProducts = document.getElementsByClassName('prodCard')
            console.log(avlProducts)
            Array.from(avlProducts).forEach(function (product) {
                const title = product.getElementsByClassName('card__name')[0].innerText
                if (title.toLowerCase().indexOf(term) != -1) {
                    product.style.display = "block";
                } else {
                    product.style.display = "none";
                }

            })
        })

    }

    
</script>


</html>